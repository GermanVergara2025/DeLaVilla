<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cat√°logo - De La Villa</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
body {
margin: 0;
font-family: 'Poppins', sans-serif;
background-color: #1e1200;
color: white;
}

/* ---------------- HEADER ---------------- */
.top-banner {
background-color: #1f1400;
color: white;
font-size: 12px;
letter-spacing: 1px;
font-weight: bold;
display: flex;
justify-content: center;
align-items: center;
height: 50px;
position: fixed;
top: 0;
left: 0;
width: 100%;
z-index: 1100;
}

.top-banner .arrow {
position: absolute;
top: 50%;
transform: translateY(-50%);
font-size: 20px;
color: white;
cursor: pointer;
user-select: none;
padding: 0 15px;
}
.arrow.left { left: 0; }
.arrow.right { right: 0; }

header {
position: fixed;
top: 50px;
left: 0;
width: 100%;
height: 80px;
background-color: #1e1200;
display: flex;
align-items: center;
justify-content: space-between;
padding: 10px 60px;
z-index: 1000;
box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
box-sizing: border-box;
}

.header-left {
display: flex;
align-items: center;
gap: 50px;
}

.logo img {
height: 60px;
}

nav ul {
list-style: none;
display: flex;
gap: 30px;
margin: 0;
padding: 0;
}

nav a {
text-decoration: none;
color: #f0f0f0;
font-weight: 400;
transition: color 0.3s ease;
}
nav a:hover,
nav a.active {
color: #ffffff;
text-decoration: underline;
}

.icons {
display: flex;
align-items: center;
gap: 20px;
}
.icons a {
color: #f0f0f0;
text-decoration: none;
transition: transform 0.2s ease;
}
.icons a:hover i {
transform: scale(1.2);
color: #ffffff;
}

.search-bar {
display: none;
position: absolute;
top: 70px;
right: 60px;
background: #f9f9f9;
padding: 8px 12px;
border-radius: 8px;
box-shadow: 0 4px 8px rgba(0,0,0,0.2);
z-index: 100;
}
.search-bar input {
padding: 6px 10px;
border: 1px solid #ccc;
border-radius: 6px;
width: 200px;
}
.search-bar button {
background: #444;
color: white;
border: none;
padding: 6px 10px;
border-radius: 6px;
cursor: pointer;
}
.search-bar button:hover {
background: #222;
}

/* ---------------- PRODUCTOS ---------------- */
.productos-section {
margin-top: 160px;
padding: 40px 60px;
background-color: #fffef8;
color: #333;
min-height: 100vh;
}

.productos-section h1 {
font-size: 28px;
margin-bottom: 25px;
color: #2d2d1f;
font-weight: 600;
}

.filters {
display: flex;
justify-content: space-between;
align-items: center;
flex-wrap: wrap;
margin-bottom: 20px;
}

.filters-left, .filters-right {
display: flex;
align-items: center;
gap: 15px;
flex-wrap: wrap;
}

.dropdown {
position: relative;
display: inline-block;
}
.dropdown button {
background-color: #fff;
border: 1px solid #ccc;
padding: 8px 14px;
border-radius: 6px;
cursor: pointer;
font-size: 14px;
transition: all 0.3s ease;
}
.dropdown button:hover {
background-color: #f1f1f1;
}
.dropdown-content {
display: none;
position: absolute;
background-color: #fff;
min-width: 220px;
box-shadow: 0 8px 16px rgba(0,0,0,0.15);
padding: 15px;
z-index: 5;
border-radius: 8px;
color: #333;
}
.dropdown:hover .dropdown-content {
display: block;
}

.dropdown-content label {
display: block;
margin-bottom: 8px;
font-size: 14px;
}

.dropdown-content input[type="number"] {
width: 70px;
padding: 5px;
border: 1px solid #ccc;
border-radius: 4px;
}

.product-grid {
display: flex;
flex-wrap: wrap;
gap: 25px;
justify-content: flex-start;
}

.product {
width: 28%;
background-color: #fffdf7;
border-radius: 8px;
overflow: hidden;
text-decoration: none;
color: inherit;
transition: all 0.3s ease;
box-shadow: 0 2px 6px rgba(0,0,0,0.08);
cursor: pointer;
position: relative;
}
.product:hover {
transform: translateY(-6px);
box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}
.product img {
width: 100%;
height: 230px;
object-fit: cover;
transition: transform 0.4s ease;
}
.product:hover img {
transform: scale(1.05);
}
.product h3 {
font-size: 17px;
margin: 12px 15px 4px;
color: #3a3a2a;
transition: color 0.3s ease;
}
.product:hover h3 {
color: #627c4c;
}
.product p {
margin: 0 15px 15px;
color: #3a3a2a;
font-weight: 500;
}

.whatsapp {
position: fixed;
bottom: 30px;
right: 30px;
background-color: #25D366;
color: white;
font-size: 26px;
padding: 16px;
border-radius: 50%;
text-align: center;
box-shadow: 0 4px 10px rgba(0,0,0,0.3);
z-index: 2000;
transition: all 0.3s ease;
}
.whatsapp:hover {
transform: scale(1.1);
background-color: #1ebe5d;
}

/* ---------------- FOOTER ---------------- */
footer {
background-color: #1f1400;
padding: 50px 20px 30px;
position: relative;
}

.footer-content {
max-width: 1200px;
margin: 0 auto;
}

.footer-content h3 {
font-weight: bold;
font-size: 16px;
margin-bottom: 15px;
}

.email-form {
display: flex;
flex-wrap: wrap;
align-items: center;
gap: 10px;
max-width: 400px;
}

.email-form input[type="email"] {
flex: 1;
padding: 12px 16px;
border: 1px solid white;
border-radius: 6px;
background-color: transparent;
color: white;
font-size: 16px;
}

.email-form button {
padding: 12px 20px;
background-color: transparent;
border: 1px solid white;
border-radius: 6px;
color: white;
cursor: pointer;
font-size: 18px;
}
.email-form button i { pointer-events: none; }

.footer-bottom {
border-top: 1px solid #2e1d00;
margin-top: 50px;
padding-top: 20px;
display: flex;
justify-content: space-between;
align-items: center;
font-size: 14px;
color: #cfcfcf;
flex-wrap: wrap;
}
.social-icons a {
color: white;
margin-left: 65px;
font-size: 18px;
text-decoration: none;
}
.social-icons a:hover {
color: #aaaaaa;
}
@media (max-width: 600px) {
.footer-bottom {
flex-direction: column;
align-items: flex-start;
gap: 10px;
}
.social-icons {
margin-top: 10px;
}
}
</style>
</head>

<body>

<!-- üî∏ BANNER SUPERIOR -->
<div class="top-banner">
  <div class="arrow left" onclick="changeMessage(-1)">&#8249;</div>
  <div id="banner-text">VUELVE A LO NATURAL</div>
  <div class="arrow right" onclick="changeMessage(1)">&#8250;</div>
</div>

<!-- üî∏ HEADER -->
<header>
  <div class="header-left">
    <div class="logo">
      <img src="https://delavillaa.myshopify.com/cdn/shop/files/3-DE_LA_VILLA_TRANS.png?v=1758213143&width=190" alt="Logo De La Villa">
    </div>

    <nav>
      <ul>
        <li><a href="/DeLaVilla" class="active">Inicio</a></li>
        <li><a href="/DeLaVilla/pages/productos.html">Cat√°logo</a></li>
        <li><a href="/DeLaVilla/pages/galeria.html">Galer√≠a</a></li>
        <li><a href="/DeLaVilla/pages/contacto.html">Contacto</a></li>
      </ul>
    </nav>
  </div>

  <div class="icons">
    <a href="#" id="search-toggle" title="Buscar"><i class="fas fa-search"></i></a>

    <div class="search-bar" id="search-bar">
      <input type="text" id="search-input" placeholder="Buscar productos..." />
      <button id="search-btn"><i class="fas fa-arrow-right"></i></button>
    </div>

    <a href="/DeLaVilla/pages/login.html" title="Mi cuenta"><i class="fas fa-user"></i></a>
    <a href="/DeLaVilla/pages/cart.html" title="Carrito de compras"><i class="fas fa-shopping-bag"></i></a>
  </div>
</header>

<!-- üî∏ PRODUCTOS -->
<section class="productos-section">

<h1>Productos</h1>

<div class="filters">
  <div class="filters-left">
    <span style="font-weight:500;">Filtrar:</span>

    <div class="dropdown" id="dispDropdown">
      <button>Disponibilidad ‚ñæ</button>
      <div class="dropdown-content">
        <label><input type="checkbox" id="enExistencia" checked> En existencia (3)</label>
        <label style="color:#999;"><input type="checkbox" id="agotado" disabled> Agotado (0)</label>
      </div>
    </div>

    <div class="dropdown" id="precioDropdown">
      <button>Precio ‚ñæ</button>
      <div class="dropdown-content">
        <p style="font-size:14px; margin-bottom:8px;">El precio m√°s alto es $32.000,00 <a href="#" id="resetPrecio" style="float:right;">Restablecer</a></p>
        <div style="display:flex; align-items:center; gap:10px;">
          <span>$</span><input type="number" id="precioMin" placeholder="De">
          <span>$</span><input type="number" id="precioMax" placeholder="Para">
        </div>
      </div>
    </div>
  </div>

  <div class="filters-right">
    <span style="font-weight:500;">Ordenar por:</span>
    <div class="dropdown" id="ordenDropdown">
      <button id="ordenBtn">Alfab√©ticamente, A-Z ‚ñæ</button>
      <div class="dropdown-content">
        <select id="ordenSelect">
          <option value="az">Alfab√©ticamente, A-Z</option>
          <option value="za">Alfab√©ticamente, Z-A</option>
          <option value="menor">Precio, menor a mayor</option>
          <option value="mayor">Precio, mayor a menor</option>
          <option value="fechaAntigua">Fecha: antiguo(a) a reciente</option>
          <option value="fechaReciente">Fecha: reciente a antiguo(a)</option>
        </select>
      </div>
    </div>
    <span id="contador">3 productos</span>
  </div>
</div>

<div class="product-grid" id="productGrid">

  <!-- üîó Cambia el href por la URL del producto -->
  <a href="/DeLaVilla/pages/huevos.html" class="product" data-precio="32000" data-disponible="true" data-fecha="2024-05-01">
    <img src="https://upload.wikimedia.org/wikipedia/commons/3/30/Chicken_eggs_basket.jpg" alt="Huevos">
    <h3>Cubeta de Huevos</h3>
    <p>$32.000,00 COP</p>
  </a>

  <a href="/DeLaVilla/pages/miel.html" class="product" data-precio="30000" data-disponible="true" data-fecha="2024-07-15">
    <img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Honey_jar.jpg" alt="Miel natural">
    <h3>Miel natural</h3>
    <p>$30.000,00 COP</p>
  </a>

  <a href="/DeLaVilla/pages/pollo.html" class="product" data-precio="22000" data-disponible="true" data-fecha="2024-03-20">
    <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Free_range_chickens.jpg" alt="Pollo de campo">
    <h3>Pollo de campo</h3>
    <p>$22.000,00 COP</p>
  </a>
</div>

<a href="https://wa.me/573001112233" target="_blank" class="whatsapp">
  <i class="fa-brands fa-whatsapp"></i>
</a>
</section>

<!-- üî∏ FOOTER -->
<footer>
  <div class="footer-content">
    <h3>S√© el primero en recibir nuestras noticias</h3>
    <form class="email-form">
      <input type="email" placeholder="Correo electr√≥nico" required>
      <button type="submit"><i class="fas fa-arrow-right"></i></button>
    </form>
  </div>

  <div class="footer-bottom">
    <div>¬©Ô∏è 2025, DeLaVilla</div>
    <div class="social-icons">
      <a href="https://www.instagram.com/delavilla.162016?igsh=NHNzMnNxcThkank4"><i class="fab fa-instagram"></i></a>
      <a href="https://tiktok.com/"><i class="fab fa-tiktok"></i></a>
    </div>
  </div>
</footer>

<!-- üî∏ SCRIPTS -->
<script>
document.getElementById("search-toggle").addEventListener("click", function(e) {
  e.preventDefault();
  const bar = document.getElementById("search-bar");
  bar.style.display = (bar.style.display === "block") ? "none" : "block";
  document.getElementById("search-input").focus();
});

const messages = [
  "VUELVE A LO NATURAL",
  "ALIMENTACI√ìN AGROECOL√ìGICA",
  "CONSUMO RESPONSABLE",
  "PRODUCTOS LOCALES Y ARTESANALES"
];
let currentIndex = 0;
const bannerText = document.getElementById("banner-text");

function changeMessage(direction) {
  currentIndex = (currentIndex + direction + messages.length) % messages.length;
  bannerText.textContent = messages[currentIndex];
}
setInterval(() => { changeMessage(1); }, 5000);

/* -------- FILTROS Y ORDEN -------- */
const grid = document.getElementById('productGrid');
const productos = Array.from(grid.querySelectorAll('.product'));
const contador = document.getElementById('contador');
const precioMin = document.getElementById('precioMin');
const precioMax = document.getElementById('precioMax');
const resetPrecio = document.getElementById('resetPrecio');
const ordenSelect = document.getElementById('ordenSelect');
const enExistencia = document.getElementById('enExistencia');

function actualizarProductos() {
  const min = precioMin.value ? parseInt(precioMin.value) : 0;
  const max = precioMax.value ? parseInt(precioMax.value) : Infinity;
  const disp = enExistencia.checked;

  productos.forEach(p => {
    const precio = parseInt(p.dataset.precio);
    const disponible = p.dataset.disponible === "true";
    const visible = precio >= min && precio <= max && (!disp || disponible);
    p.style.display = visible ? "block" : "none";
  });

  const visibles = productos.filter(p => p.style.display !== "none");
  contador.textContent = visibles.length + " producto" + (visibles.length !== 1 ? "s" : "");

  const orden = ordenSelect.value;
  visibles.sort((a,b)=>{
    if (orden === "az") return a.querySelector('h3').textContent.localeCompare(b.querySelector('h3').textContent);
    if (orden === "za") return b.querySelector('h3').textContent.localeCompare(a.querySelector('h3').textContent);
    if (orden === "menor") return a.dataset.precio - b.dataset.precio;
    if (orden === "mayor") return b.dataset.precio - a.dataset.precio;
    if (orden === "fechaAntigua") return new Date(a.dataset.fecha) - new Date(b.dataset.fecha);
    if (orden === "fechaReciente") return new Date(b.dataset.fecha) - new Date(a.dataset.fecha);
  });
  visibles.forEach(p => grid.appendChild(p));
}
ordenSelect.addEvent
